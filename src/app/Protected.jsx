import * as React from 'react'; export default function Protected({ roles, children }){ const [ok,setOk]=React.useState(false); const [loading,setLoading]=React.useState(true); React.useEffect(()=>{ const has=!!localStorage.getItem('sb-access-token'); setOk(has||!roles); setLoading(false); },[roles]); if(loading) return <div className='p-6'>Cargandoâ€¦</div>; if(!ok) return <div className='p-6'>Acceso restringido</div>; return children; }
